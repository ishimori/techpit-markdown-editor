(this["webpackJsonptechpit-markdown-editor"]=this["webpackJsonptechpit-markdown-editor"]||[]).push([[0],{146:function(e,t,n){"use strict";n.r(t);var r=n(11),i=n(2),c=n(0),o=n(54),a=n(3),d=n(20),s=n(4),b=n(55),j=n.n(b),l=n(37),h=n.n(l),O=n(56),x=new(n(57).a)("markdown-editor");x.version(1).stores({memos:"&datetime"});var u,p,m,f,g,v,w,y,k,S,C,z,I,T,D,E,F,B,J=x.table("memos"),A=function(){var e=Object(O.a)(h.a.mark((function e(t,n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(new Date).toISOString(),e.next=3,J.put({datetime:r,title:t,text:n});case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),M=n(1),N=a.b.button(u||(u=Object(i.a)(["\n  background-color: dodgerblue;\n  border: none;\n  box-shadow: none;\n  color: white;\n  font-size: 1rem;\n  height: 2rem;\n  min-width: 5rem;\n  padding: 0 1rem;\n\n  &.cancel {\n    background: white;\n    border: 1px solid gray;\n    color: gray;\n  }\n"]))),q=function(e){return Object(M.jsx)(N,{onClick:e.onClick,className:e.cancel?"cancel":"",children:e.children})},G=a.b.div(p||(p=Object(i.a)(["\n  align-items: center;\n  background-color: #0002;\n  bottom: 0;\n  display: flex;\n  justify-content: center;\n  left: 0;\n  position: fixed;\n  right: 0;\n  top: 0;\n"]))),H=a.b.div(m||(m=Object(i.a)(["\n  background: #fff;\n  padding: 1rem;\n  width: 32rem;\n"]))),K=a.b.input(f||(f=Object(i.a)(["\n  width: 29rem;\n  padding: 0.5rem;\n"]))),L=a.b.div(g||(g=Object(i.a)(["\n  display: flex;\n  justify-content: space-evenly;\n  padding: 1rem;\n"]))),P=function(e){var t=e.onCancel,n=e.onSave,i=Object(c.useState)((new Date).toISOString()),o=Object(r.a)(i,2),a=o[0],d=o[1];return Object(M.jsx)(G,{children:Object(M.jsxs)(H,{children:[Object(M.jsx)("p",{children:"\u30c6\u30ad\u30b9\u30c8\u306e\u5185\u5bb9\u3092\u4fdd\u5b58\u3057\u307e\u3059"}),Object(M.jsx)("p",{children:"\u4fdd\u5b58\u5185\u5bb9\u306e\u30bf\u30a4\u30c8\u30eb\u3092\u5165\u529b\u3057\u3066\u4fdd\u5b58\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u4e0b\u3055\u3044"}),Object(M.jsx)("p",{children:Object(M.jsx)(K,{type:"text",value:a,onChange:function(e){return d(e.target.value)}})}),Object(M.jsxs)(L,{children:[Object(M.jsx)(q,{onClick:t,cancel:!0,children:"\u30ad\u30e3\u30f3\u30bb\u30eb"}),Object(M.jsx)(q,{onClick:function(){return n(a)},children:"\u4fdd\u5b58"})]})]})})},Q=a.b.header(v||(v=Object(i.a)(["\n  align-content: center;\n  display: flex;\n  height: 2rem;\n  justify-content: space-between;\n  line-height: 2rem;\n  padding: 0.5rem 1rem;\n"]))),R=a.b.div(w||(w=Object(i.a)(["\n  font-size: 1.5rem;\n"]))),U=a.b.div(y||(y=Object(i.a)(["\n  align-content: center;\n  display: flex;\n  height: 2rem;\n  justify-content: center;\n\n  & > * {\n    margin-left: 0.5rem;\n  }\n"]))),V=function(e){return Object(M.jsxs)(Q,{children:[Object(M.jsx)(R,{children:e.title}),Object(M.jsx)(U,{children:e.children})]})},W=a.b.div(k||(k=Object(i.a)(["\n  bottom: 0;\n  left: 0;\n  position: fixed;\n  right: 0;\n  top: 3rem;\n"]))),X=a.b.div(S||(S=Object(i.a)(["\n  position: fixed;\n  right: 0;\n  top: 0;\n  left: 0;\n"]))),Y=a.b.textarea(C||(C=Object(i.a)(["\n  border-right: 1px solid silver;\n  border-top: 1px solid silver;\n  bottom: 0;\n  font-size: 1rem;\n  left: 0;\n  padding: 0.5rem;\n  position: absolute;\n  top: 0;\n  width: 50vw;\n"]))),Z=a.b.div(z||(z=Object(i.a)(["\n  border-top: 1px solid silver;\n  bottom: 0;\n  overflow-y: scroll;\n  padding: 1rem;\n  position: absolute;\n  right: 0;\n  top: 0;\n  width: 50vw;\n"]))),$=function(e){var t=e.text,n=e.setText,i=Object(c.useState)(!1),o=Object(r.a)(i,2),a=o[0],s=o[1];return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(X,{children:Object(M.jsxs)(V,{title:"Markdown Editor",children:[Object(M.jsx)(q,{onClick:function(){return s(!0)},children:"\u4fdd\u5b58\u3059\u308b"}),Object(M.jsx)(d.b,{to:"/history",children:"\u5c65\u6b74\u3092\u898b\u308b"})]})}),Object(M.jsxs)(W,{children:[Object(M.jsx)(Y,{onChange:function(e){return n(e.target.value)},value:t}),Object(M.jsx)(Z,{children:Object(M.jsx)(j.a,{source:t})})]}),a&&Object(M.jsx)(P,{onSave:function(e){A(e,t),s(!1)},onCancel:function(){return s(!1)}})]})},_=a.b.div(I||(I=Object(i.a)(["\n  position: fixed;\n  right: 0;\n  top: 0;\n  left: 0;\n"]))),ee=a.b.div(T||(T=Object(i.a)(["\n  bottom: 0;\n  left: 0;\n  position: fixed;\n  right: 0;\n  top: 3rem;\n  padding: 0 1rem;\n"]))),te=a.b.button(D||(D=Object(i.a)(["\n  display: block;\n  background-color: white;\n  border: 1px solid gray;\n  width: 100%;\n  padding: 1rem;\n  margin: 1rem 0;\n  text-align: left;\n"]))),ne=a.b.div(E||(E=Object(i.a)(["\n  font-size: 1rem;\n  margin-bottom: 0.5rem;\n"]))),re=a.b.div(F||(F=Object(i.a)(["\n  font-size: 0.85rem;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"]))),ie=function(e){var t=e.setText,n=Object(c.useState)([]),i=Object(r.a)(n,2),o=i[0],a=i[1],b=Object(s.g)();return Object(c.useEffect)((function(){J.orderBy("datetime").reverse().toArray().then(a)}),[]),Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(_,{children:Object(M.jsx)(V,{title:"\u5c65\u6b74",children:Object(M.jsx)(d.b,{to:"editor",children:"\u30a8\u30c7\u30a3\u30bf\u306b\u623b\u308b"})})}),Object(M.jsxs)(ee,{children:["TODO:\u5c65\u6b74\u8868\u793a",o.map((function(e){return Object(M.jsxs)(te,{onClick:function(){t(e.text),b.push("/editor")},children:[Object(M.jsx)(ne,{children:e.title}),Object(M.jsx)(re,{children:e.text})]},e.datetime)}))]})]})},ce=Object(a.a)(B||(B=Object(i.a)(["\n  body * {\n    box-sizing: border-box;\n  }\n"]))),oe=function(){var e=function(e,t){var n=Object(c.useState)(localStorage.getItem(t)||e),i=Object(r.a)(n,2),o=i[0],a=i[1];return[o,function(e){a(e),localStorage.setItem(t,e)}]}("","/editor:text"),t=Object(r.a)(e,2),n=t[0],i=t[1];return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(ce,{}),Object(M.jsx)(d.a,{children:Object(M.jsxs)(s.d,{children:[Object(M.jsx)(s.b,{exact:!0,path:"/editor",children:Object(M.jsx)($,{text:n,setText:i})}),Object(M.jsx)(s.b,{exact:!0,path:"/history",children:Object(M.jsx)(ie,{setText:i})}),Object(M.jsx)(s.a,{to:"/editor",path:"*"})]})})]})};Object(o.render)(Object(M.jsx)(oe,{}),document.getElementById("root"))}},[[146,1,2]]]);
//# sourceMappingURL=main.6d39a019.chunk.js.map